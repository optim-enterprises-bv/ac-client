# ACP/1.0 client configuration
# Keys are case-insensitive.  Lines starting with # are comments.
# Values are trimmed of leading/trailing whitespace.
#
# After editing this file, run:
#   /etc/init.d/ac-client restart

# ── Server connection ─────────────────────────────────────────────────────────

# OptimACS server hostname or IP address (required)
server_host   = 0.0.0.0

# ACP server TCP port (default: 3490)
server_port   = 3490

# TLS SNI name sent in the ClientHello; must match the server certificate CN.
# The default server cert generated by OptimACS has CN "ac-server".
server_cn     = ac-server

# ── TLS / certificates ────────────────────────────────────────────────────────
#
# Init certificate (used before the device is provisioned):
#   Deploy from the OptimACS server:  <client_dir>/00:00:00:00:00:00/
#
init_cert     = /etc/apclient/init/client.crt
init_key      = /etc/apclient/init/client.key

# CA certificate used to verify the server (same file on client and init side)
ca_file       = /etc/apclient/init/ca.crt

# Provisioned client certificate (written here by ac-client after CERT response)
cert_file     = /etc/apclient/certs/client.crt
key_file      = /etc/apclient/certs/client.key

# Directory where provisioned certs are saved
cert_dir      = /etc/apclient/certs

# ── Device identity ───────────────────────────────────────────────────────────
#
# MAC address sent in INIT packets and used as the device CN.
# Leave empty to auto-detect from br-lan / eth0 / wlan0.
mac_addr      =

# CPU architecture string (e.g. mipsel_24kc, aarch64_cortex-a53)
arch          =

# Device model string (e.g. dir300, tplink-c7)
sys_model     =

# ── Polling intervals (seconds) ───────────────────────────────────────────────

# How often to send CHECK_UPDATE to detect config changes
update_interval  = 60

# How often to send a STATUS heartbeat
status_interval  = 300

# How often to run a camera discovery + capture cycle
cam_interval     = 360

# ── GNSS receiver ─────────────────────────────────────────────────────────────
#
# Leave gnss_dev empty to disable GPS reporting.
# Example: gnss_dev = /dev/ttyUSB0
gnss_dev      =
gnss_baud     = 9600

# ── Storage paths ─────────────────────────────────────────────────────────────

# Scratch directory for downloaded firmware images
fw_dir        = /tmp/apclient/firmware

# Directory for locally-saved camera snapshots
img_dir       = /var/apclient/images

# PID file written at startup
pid_file      = /var/run/apclient.pid

# ── Process behaviour ─────────────────────────────────────────────────────────

# Run in background as a daemon (managed by procd, so leave as false here)
daemonize     = false

# Send log messages to syslog (true) or stderr (false)
log_syslog    = true
